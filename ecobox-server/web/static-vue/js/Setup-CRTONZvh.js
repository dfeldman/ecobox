import{_ as p,c as a,a as t,w,b as i,d as u,v as f,t as x,e as b,u as g,r as _,f as l,g as v,o as d}from"./index-DhluikCv.js";const y={name:"Setup",setup(){const m=v(),s=g(),r=_({password:"",confirmPassword:""}),o=l(()=>s.loading),c=l(()=>s.error),n=l(()=>r.password&&r.confirmPassword&&r.password!==r.confirmPassword);return{form:r,loading:o,error:c,passwordMismatch:n,handleSetup:async()=>{if(n.value)return;s.clearError(),(await s.setup(r.password,r.confirmPassword)).success&&m.push("/login")}}}},h={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 px-6 lg:px-8"},S={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},P={class:"card"},k={class:"card-body"},M={class:"form-group"},V=["disabled"],B={class:"form-group"},C=["disabled"],E={key:0,class:"text-red text-sm text-center"},N={key:1,class:"text-red text-sm text-center"},q=["disabled"],A={key:0,class:"loading mr-2"};function D(m,s,r,o,c,n){return d(),a("div",h,[s[6]||(s[6]=t("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[t("div",{class:"text-center"},[t("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"EcoBox Setup"),t("p",{class:"text-gray-600"},"Create your admin account")])],-1)),t("div",S,[t("div",P,[t("div",k,[t("form",{onSubmit:s[2]||(s[2]=w((...e)=>o.handleSetup&&o.handleSetup(...e),["prevent"])),class:"space-y-6"},[t("div",M,[s[3]||(s[3]=t("label",{for:"password",class:"form-label"},"Admin Password",-1)),u(t("input",{id:"password","onUpdate:modelValue":s[0]||(s[0]=e=>o.form.password=e),type:"password",required:"",class:"form-input",disabled:o.loading,minlength:"6"},null,8,V),[[f,o.form.password]])]),t("div",B,[s[4]||(s[4]=t("label",{for:"confirmPassword",class:"form-label"},"Confirm Password",-1)),u(t("input",{id:"confirmPassword","onUpdate:modelValue":s[1]||(s[1]=e=>o.form.confirmPassword=e),type:"password",required:"",class:"form-input",disabled:o.loading,minlength:"6"},null,8,C),[[f,o.form.confirmPassword]])]),o.error?(d(),a("div",E,x(o.error),1)):i("",!0),o.passwordMismatch?(d(),a("div",N," Passwords do not match ")):i("",!0),t("div",null,[t("button",{type:"submit",class:"btn btn-primary w-full",disabled:o.loading||o.passwordMismatch},[o.loading?(d(),a("span",A)):i("",!0),s[5]||(s[5]=b(" Complete Setup ",-1))],8,q)])],32)])])])])}const j=p(y,[["render",D]]);export{j as default};
